{"version":3,"sources":["api/instance.js","actions/auth.js","actions/types.js","actions/notification.js","components/Header.js","components/RedClick.js","actions/category.js","components/CategoryList.js","actions/article.js","components/MutedText.js","components/ArticleList.js","components/GeneralView.js","components/WhitePage.js","components/ArticleDetail.js","components/DeleteConfirm.js","components/NotFound.js","components/Login.js","components/Notification.js","components/behaviors/RouteChangeListener.js","components/behaviors/FetchCategories.js","components/ArticleForm.js","components/EditForm.js","components/Signup.js","components/behaviors/UnAuthOnly.js","components/behaviors/LoggedInRequired.js","components/behaviors/MustBeAuthor.js","components/AddArticle.js","components/behaviors/FetchSingleArticle.js","components/App.js","reducers/auth.js","reducers/notification.js","reducers/index.js","reducers/article.js","reducers/category.js","reducers/selectedCategory.js","index.js","components/behaviors/Root.js"],"names":["instance","axios","create","baseURL","authHeader","token","Authorization","concat","login","_ref","username","password","followSuccess","followFailure","dispatch","api","post","then","response","saveUserInfo","data","access_token","catch","error","registerUser","_ref2","firstName","lastName","afterSuccess","afterFailure","getState","first_name","last_name","logout","type","_ref3","payload","addNotification","_ref$type","message","clearNotification","Header","logInOrOut","_this","props","isAuth","react_default","a","createElement","onClick","handleLogout","className","react_router_dom","to","confirm","href","this","Component","connect","auth","Object","objectSpread","actions","notificationActions","RedClick","state","addedClasses","bold","JSON","parse","assign","style","cursor","children","fetchCategories","get","saveCategories","categories","CategoryList","_Component","_getPrototypeOf2","classCallCheck","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","handleCategoryClick","categoryName","e","selectCategory","inherits","createClass","key","value","_this2","map","name","id","components_RedClick","selectedCategory","toString","fetchArticles","saveArticles","fetchArticlesFromCategory","categoryId","fetchSingleArticle","saveSingleArticle","console","log","articles","article","deleteArticle","articleId","followingFn","delete","headers","removeArticle","updateArticle","updatedArticle","put","_","pick","createArticle","_ref4","MutedText","ArticleList","renderHeading","renderArticles","_this$props","filter","category","title","components_MutedText","renderAddingAuthBased","keys","GeneralView","components_CategoryList","components_ArticleList","WhitePage","ArticleDetail","renderButtonsAuthorBased","author","currentUser","stringOfTime","date","split","time","body","created_at","react","renderTime","match","params","DeleteConfirm","handleDeleteClick","afterDeleteSuccess","history","push","componentDidMount","compose","articleActions","NotFound","role","Login","handleSubmit","preventDefault","_this$state","afterLoginSuccess","afterLoginFailure","handleInputChange","_e$target","target","setState","defineProperty","onSubmit","htmlFor","onChange","authActions","Notification","notification","RouteChangeListener","listen","location","withRouter","FetchCategories","ArticleForm","renderField","input","label","_ref$meta","meta","touched","rows","pristine","submitting","valid","behaviors_FetchCategories","onFormSubmit","Field","component","disabled","initialValuesEdit","omit","initialValues","category_id","reduxForm","form","enableReinitialize","validate","values","errors","EditArticle","handleLocalFormSubmit","parseInt","components_ArticleForm","Signup","afterRegisterSuccess","afterRegisterFailure","UnAuthOnly","react_router","LoggedInRequired","checkAuth","MustBeAuthor","checkAuthor","exit","afterArticleFetchingFailure","_this$props2","AddArticle","FetchSingleArticle","afterFetchingFailure","afterFetchingSuccess","App","behaviors_RouteChangeListener","components_Header","components_Notification","components_WhitePage","path","exact","render","behaviors_UnAuthOnly","components_Login","components_Signup","behaviors_LoggedInRequired","components_AddArticle","behaviors_MustBeAuthor","EditForm","components_DeleteConfirm","behaviors_FetchSingleArticle","components_ArticleDetail","components_NotFound","defaultState","localStorage","getItem","getUserInfoFromStorage","combineReducers","undefined","action","setItem","setUserInfoToStorage","removeItem","transformedArticles","reduce","acc","toConsumableArray","formReducer","ReactDOM","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","reducers","initialState","applyMiddleware","thunk","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.2ec4f13e.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport const BASE_URL = 'https://whispering-temple-18802.herokuapp.com';\r\n\r\nconst instance = axios.create({\r\n    baseURL: BASE_URL,\r\n  });\r\n\r\nexport const authHeader = (token) => ({ Authorization: `JWT ${token}` })\r\n\r\nexport default instance;","import api from '../api/instance';\r\nimport { REMOVE_USER_INFO, SAVE_USER_INFO} from './types';\r\n\r\n// TODO: handle error case\r\nexport const login = ({username, password, followSuccess, followFailure}) => {\r\n    return (dispatch) => {\r\n        return api.post('/auth', { username, password })\r\n            .then(response => {\r\n                dispatch(saveUserInfo({token: response.data.access_token, username}))\r\n                if (followSuccess) followSuccess();\r\n            })\r\n            .catch(error => {\r\n                if (followFailure) followFailure(error.response)\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport const registerUser = ({ username, password, firstName, lastName, afterSuccess, afterFailure }) => {\r\n    return (dispatch, getState) => {\r\n        return api.post('/users', null, {\r\n            data: { username, password, first_name: firstName, last_name: lastName }\r\n        })\r\n            .then((response) => {\r\n                if (afterSuccess && typeof afterSuccess === 'function') afterSuccess();\r\n            })\r\n            .catch((error) => {\r\n                if (afterFailure && typeof afterFailure === 'function') afterFailure();\r\n            })\r\n    }\r\n}\r\n\r\nexport const logout = () => ({\r\n    type: REMOVE_USER_INFO\r\n})\r\n\r\nexport const saveUserInfo = ({ token, username }) => ({\r\n    type: SAVE_USER_INFO,\r\n    payload: {\r\n        token,\r\n        username\r\n    }\r\n})","export const SAVE_CATEGORIES = 'SAVE_CATEGORIES';\r\n\r\nexport const SAVE_ARTICLES = 'SAVE_ARTICLES';\r\n\r\nexport const SAVE_SINGLE_ARTICLE = 'SAVE_SINGLE_ARTICLE';\r\n\r\nexport const REMOVE_ARTICLE = 'REMOVE_ARTICLE';\r\n\r\nexport const SELECT_CATEGORY = 'SELECT_CATEGORY';\r\n\r\nexport const SAVE_USER_INFO = 'SAVE_USER_INFO'\r\n\r\nexport const REMOVE_USER_INFO = 'REMOVE_USER_INFO'\r\n\r\nexport const ADD_NOTIFICATION = 'ADD_NOTIFICATION';\r\n\r\nexport const CLEAR_NOTIFICATION = 'CLEAR_NOTIFICATION';","import {ADD_NOTIFICATION, CLEAR_NOTIFICATION} from './types';\r\n\r\nexport const addNotification = ({ type = \"success\", message }) => ({\r\n    type: ADD_NOTIFICATION,\r\n    payload: {\r\n        type,\r\n        message,\r\n    }\r\n})\r\n\r\nexport const clearNotification = () => ({\r\n    type: CLEAR_NOTIFICATION\r\n})","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as actions from '../actions/auth';\r\nimport * as notificationActions from '../actions/notification';\r\n\r\nclass Header extends Component {\r\n\r\n    logInOrOut = () => {\r\n        return this.props.isAuth ? (\r\n        <div>\r\n            <button onClick={this.handleLogout} className=\"btn btn-danger btn-lg\">Log Out</button>\r\n        </div>\r\n        )\r\n            :\r\n        (\r\n            <div>\r\n                <Link to=\"/register\" className=\"btn btn-danger btn-lg\">Register</Link>\r\n                <Link to=\"/login\" className=\"btn btn-outline-danger btn-lg ml-3\">Sign In</Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleLogout = () => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        const yes = confirm('Are your sure to log out?')\r\n        if (yes) {\r\n            this.props.logout()\r\n            this.props.addNotification({ message: 'Logged out successfully!' })\r\n        }\r\n    }\r\n    \r\n    render() { \r\n        return ( \r\n            <nav className=\"navbar navbar-expand-lg navbar navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                <Link to=\"/\"><h1 className=\"display-4 text-light\" href=\"#\">Catalog App</h1></Link>\r\n                    {this.logInOrOut()}\r\n                </div>\r\n            </nav> \r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => ({ isAuth: auth && auth.token })\r\n \r\nexport default connect(mapStateToProps, { ...actions, ...notificationActions })(Header);","import React, { Component } from 'react';\r\n\r\nclass RedClick extends Component {\r\n    state = {  }\r\n    render() {\r\n        const addedClasses = this.props.bold && JSON.parse(this.props.bold) ? 'font-weight-bold': '';\r\n        return (\r\n            <span style={{ cursor: 'pointer' }} {...this.props} className={`text-danger lead ${addedClasses}`}>\r\n                {this.props.children}\r\n            </span>\r\n        );\r\n    }\r\n}\r\n \r\nexport default RedClick;","import api from '../api/instance';\r\nimport {SAVE_CATEGORIES, SELECT_CATEGORY} from './types';\r\n\r\nexport const fetchCategories = () => {\r\n    return (dispatch) => {\r\n        return api.get('/categories').then(response => {\r\n            dispatch(saveCategories(response.data));\r\n        })\r\n    }\r\n}\r\n\r\nexport const saveCategories = (categories) => ({\r\n    type: SAVE_CATEGORIES,\r\n    payload: categories\r\n})\r\n\r\nexport const selectCategory = (categoryName) => ({\r\n    type: SELECT_CATEGORY,\r\n    payload: categoryName\r\n})","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport RedClick from './RedClick';\r\nimport { fetchCategories, selectCategory } from '../actions/category';\r\n\r\nexport class CategoryList extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.fetchCategories();\r\n    }\r\n\r\n    handleCategoryClick = (categoryName, e) => {\r\n        this.props.selectCategory(categoryName);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"pr-5 border-right\">\r\n                <h2>Categories</h2>\r\n                <div className=\"d-flex flex-column\">\r\n                    {this.props.categories.map(({ name, id }) =>\r\n                        <RedClick bold={(name === this.props.selectedCategory).toString()} onClick={() => this.handleCategoryClick(name)} key={id}>{name}</RedClick>)\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ categories, selectedCategory }) => ({\r\n    categories,\r\n    selectedCategory\r\n})\r\n\r\nexport default connect(mapStateToProps, { fetchCategories, selectCategory })(CategoryList);","import api, {authHeader} from '../api/instance';\r\nimport {SAVE_ARTICLES, SAVE_SINGLE_ARTICLE, REMOVE_ARTICLE} from './types';\r\nimport _ from 'lodash';\r\n\r\nexport const fetchArticles = () => {\r\n    return (dispatch) => {\r\n        return api.get('articles').then(response => {\r\n            dispatch(saveArticles(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const fetchArticlesFromCategory = (categoryId) => {\r\n    return (dispatch) => {\r\n        return api.get(`categories/${categoryId}/articles`).then(response => {\r\n            dispatch(saveArticles(response.data))\r\n        })\r\n    }\r\n}\r\n\r\n// TODO: reuse code fetch articles for get single one\r\nexport const fetchSingleArticle = ({ id, followSuccess, followFailure }) => {\r\n    return (dispatch) => {\r\n        return api.get(`articles/${id}`)\r\n        .then(response => {\r\n            dispatch(saveSingleArticle(response.data));\r\n            if (followSuccess) followSuccess();\r\n        })\r\n        .catch(error => {\r\n            debugger;\r\n            console.log(error);\r\n            if (followFailure) followFailure();\r\n        })\r\n    }\r\n}\r\n\r\nexport const saveArticles = (articles) => ({\r\n    type: SAVE_ARTICLES,\r\n    payload: articles\r\n})\r\n\r\nexport const saveSingleArticle = (article) => ({\r\n    type: SAVE_SINGLE_ARTICLE,\r\n    payload: article\r\n})\r\n\r\nexport const deleteArticle = ({articleId, followingFn}) => {\r\n    return (dispatch, getState) => {\r\n        return api.delete(`articles/${articleId}`, {\r\n            headers: {\r\n                'Authorization': `JWT ${getState().auth.token}`\r\n            }\r\n        })\r\n        .then(() => {\r\n            dispatch(removeArticle(articleId))\r\n            followingFn()\r\n        })\r\n        .catch(error => console.log('Can not delete article', error.response))\r\n    }\r\n}\r\n\r\nexport const removeArticle = (articleId) => ({\r\n    type: REMOVE_ARTICLE,\r\n    payload: articleId\r\n})\r\n\r\nexport const updateArticle = ({ articleId, updatedArticle, afterSuccess, afterFailure }) => {\r\n    return (dispatch, getState) => {\r\n        return api.put(`articles/${articleId}`, null, {\r\n            data: _.pick(updatedArticle, ['title', 'body', 'category_id']),\r\n            headers: authHeader(getState().auth.token) \r\n        })\r\n        .then(response => {\r\n            dispatch(saveSingleArticle(response.data));\r\n            afterSuccess()\r\n        })\r\n        .catch(error => {\r\n            afterFailure(error.response);\r\n        })\r\n    }\r\n}\r\n\r\nexport const createArticle = ({ article, afterSuccess, afterFailure }) => {\r\n    return (dispatch, getState) => {\r\n        return api.post(`articles`, null, {\r\n            data: _.pick(article, ['title', 'body', 'category_id']),\r\n            headers: authHeader(getState().auth.token) \r\n        })\r\n        .then(response => {\r\n            const article = response.data;\r\n            dispatch(saveSingleArticle(article))\r\n            if (afterSuccess && typeof afterSuccess === 'function') afterSuccess(article);\r\n        })\r\n        .catch(error => {\r\n            if (afterFailure && typeof afterFailure === 'function') afterFailure(error.response);\r\n        })\r\n    }\r\n} ","import React, { Component } from 'react';\r\n\r\nclass MutedText extends Component {\r\n    render() { \r\n        return ( <span className=\"text-muted font-italic\" >{this.props.children}</span> );\r\n    }\r\n}\r\n \r\nexport default MutedText;","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport RedClick from './RedClick';\r\nimport {Link} from 'react-router-dom'\r\nimport {fetchArticles} from '../actions/article'\r\nimport MutedText from './MutedText';\r\n\r\nexport class ArticleList extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchArticles()\r\n    }\r\n\r\n    renderHeading = () => {\r\n        return this.props.selectedCategory ? <h2>{this.props.selectedCategory}</h2> : <h2>Latest Items</h2>\r\n    }\r\n\r\n    renderArticles = () => {\r\n        let {selectedCategory, articles} = this.props;\r\n        articles = selectedCategory ?\r\n            articles.filter(article => article.category.name === selectedCategory)\r\n            :\r\n            articles;\r\n            \r\n        return articles.map(({ id, title, category }) => (\r\n            <Link to={`/article/${id}`} key={id}>\r\n                <RedClick>{title}<MutedText> ({category && category.name})</MutedText></RedClick>\r\n            </Link>\r\n        ));\r\n    }\r\n\r\n    renderAddingAuthBased = () => this.props.isAuth ?\r\n        <Link to=\"/article/new\" className=\"lead\"><i className=\"fas fa-plus-circle\"></i> Add ur new article</Link>\r\n        : null;\r\n    \r\n    render() { \r\n        return (  \r\n            <div className=\"pl-5\">\r\n                {this.renderHeading()}\r\n                {this.renderAddingAuthBased()}\r\n                <div className=\"d-flex flex-column\">\r\n                    {this.renderArticles()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (({ articles, selectedCategory, auth }) => ({ \r\n    selectedCategory, \r\n    articles: Object.keys(articles).map(key => articles[key]),\r\n    isAuth: auth && !!auth.token\r\n}))\r\n \r\nexport default connect(mapStateToProps, { fetchArticles })(ArticleList);","import React, { Component } from 'react';\r\nimport CategoryList from './CategoryList';\r\nimport ArticleList from './ArticleList';\r\n\r\nclass GeneralView extends Component {\r\n    \r\n    render() { \r\n        return ( \r\n            <div className=\"d-flex\">\r\n                <div className=\"w-30\">\r\n                    <CategoryList />\r\n                </div>\r\n                <div className=\"w-70\">\r\n                    <ArticleList />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default GeneralView;","import React, { Component } from 'react';\r\n\r\nclass WhitePage extends Component {\r\n    \r\n    render() { \r\n        return ( <div className=\"border p-4\">\r\n            {this.props.children}\r\n        </div>);\r\n    }\r\n}\r\n \r\nexport default WhitePage;","import React, { Component, Fragment } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom'\r\nimport * as actions from '../actions/article';\r\n\r\nexport class ArticleDetail extends Component {\r\n\r\n    renderButtonsAuthorBased = () => {\r\n        const {isAuth, article} = this.props;\r\n        return isAuth && article && article.author.username === this.props.currentUser  ? (\r\n            <div className=\"btn-group\">\r\n                <Link className=\"btn btn-dark\" to={`/article/${article.id}/edit`}>Edit</Link>\r\n                <Link className=\"btn btn-warning\" to={`/article/${article.id}/delete`}>Delete</Link>\r\n            </div>\r\n        ) : null;\r\n    }\r\n\r\n    renderTime(stringOfTime) {\r\n        debugger;\r\n        const date = stringOfTime.split('T')[0];\r\n        const time = stringOfTime.split('T')[1].split('+')[0];\r\n        return `on ${date} at ${time}`\r\n    }\r\n\r\n    render() { \r\n        const {title,body,author,created_at} = this.props.article || {};\r\n        return (  \r\n            <Fragment>\r\n                <h3 className=\"text-dark\">{title}</h3>\r\n                <h6 className=\"text-muted\">\r\n                    Created By <span className=\"badge badge-info\">@{author && author.username}</span> \r\n                    <span> {created_at && this.renderTime(created_at)}</span>\r\n                </h6>\r\n                <p id=\"articleBody\">{body}</p>\r\n                {this.renderButtonsAuthorBased()}\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nconst mapStateToProps = ({ articles, auth }, props) => ({ \r\n    article: articles[props.match.params.id], \r\n    isAuth: auth && !!auth.token,\r\n    currentUser: auth && auth.username \r\n})\r\n\r\nexport default connect(mapStateToProps, { ...actions })(ArticleDetail);","import React, { Component, Fragment } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {compose} from 'redux';\r\nimport * as articleActions from '../actions/article'\r\nimport * as notificationActions from '../actions/notification'\r\n\r\nclass DeleteConfirm extends Component {\r\n\r\n    handleDeleteClick = () => {\r\n        this.props.deleteArticle({articleId: this.props.match.params.id, followingFn: this.afterDeleteSuccess});\r\n    }\r\n\r\n    afterDeleteSuccess = () => {\r\n        this.props.history.push('/') \r\n        this.props.addNotification({ message: 'Deleted Successfully' })\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if (!this.props.article) {\r\n            this.props.fetchSingleArticle({id: this.props.match.params.id});\r\n        }\r\n    }\r\n    \r\n    render() { \r\n        return ( <Fragment>\r\n            <h3>Delete Item</h3>\r\n            <p>Are you sure you want to delete?</p>\r\n            <button onClick={this.handleDeleteClick} className=\"btn btn-outline-danger\">I'm sure</button>\r\n        </Fragment> );\r\n    }\r\n}\r\n \r\nexport default compose(\r\n    connect(({ articles }, props) => ({ article: articles[props.match.params.id] }), { ...articleActions, ...notificationActions }),\r\n)(DeleteConfirm);","import React, { Component } from 'react';\r\n\r\nclass NotFound extends Component {\r\n    state = {}\r\n    render() {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                Page Not Found\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport * as authActions from '../actions/auth';\r\nimport * as notificationActions from '../actions/notification';\r\n\r\nclass Login extends Component {\r\n    state = {\r\n        username: \"\",\r\n        password: \"\",\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const {username, password} = this.state;\r\n        this.props.login({username, password, followSuccess: this.afterLoginSuccess, followFailure: this.afterLoginFailure});\r\n    }\r\n\r\n    afterLoginSuccess = () => {\r\n        this.props.history.push('/');\r\n        this.props.addNotification({ message: 'Login successfully' })\r\n    }\r\n\r\n    afterLoginFailure = (message) => {\r\n        this.props.addNotification({ type: 'error', message })\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value })\r\n    }\r\n    \r\n    render() { \r\n        return ( <form className=\"col-lg-6 mx-auto\" onSubmit={this.handleSubmit}>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"usernameInput\">Username</label>\r\n                <input name=\"username\" value={this.state.username} onChange={this.handleInputChange} type=\"text\" className=\"form-control\" id=\"usernameInput\" />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"usernameInput\">Password</label>\r\n                <input name=\"password\" value={this.state.password} onChange={this.handleInputChange} type=\"password\" className=\"form-control\" id=\"passwordInput\" />\r\n            </div>\r\n            <button type=\"submit\" className=\"btn btn-success btn-block\">Log In</button>\r\n        </form> );\r\n    }\r\n}\r\n \r\nexport default connect(null, { ...authActions, ...notificationActions })(Login);","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\n\r\nclass Notification extends Component {\r\n    state = {  }\r\n    render() { \r\n        const {message, type} = this.props;\r\n        if (!message) return null;\r\n\r\n        if (type === 'success')        \r\n            return (<div className=\"alert alert-success text-center\" role=\"alert\">\r\n                {this.props.message}\r\n            </div>)\r\n        if (type === 'error')\r\n            return (<div className=\"alert alert-danger text-center\" role=\"alert\">\r\n                {this.props.message}\r\n            </div>)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ notification }) => ({\r\n    message: notification.message,\r\n    type: notification.type\r\n})\r\n \r\nexport default connect(mapStateToProps, null)(Notification);","import { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom'\r\nimport {compose} from 'redux';\r\nimport * as actions from '../../actions/notification'\r\n\r\nclass RouteChangeListener extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.history.listen(location => {\r\n            if (this.props.message) {\r\n                this.props.clearNotification();\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() { \r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ notification }) => ({\r\n    message: notification.message\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, { ...actions })\r\n)(RouteChangeListener)","import { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {fetchCategories} from '../../actions/category'\r\n\r\nclass FetchCategories extends Component {\r\n\r\n    componentDidMount() {\r\n        if (!this.props.categories.length) {\r\n            this.props.fetchCategories()\r\n        }\r\n    }\r\n    \r\n    render() {  \r\n        return this.props.children;\r\n    }\r\n}\r\n \r\nexport default connect(({ categories }) => ({ categories }), { fetchCategories })(FetchCategories);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { compose } from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport FetchCategories from './behaviors/FetchCategories';\r\nimport _ from 'lodash';\r\n\r\nconst validate = (values) => {\r\n    const errors = {}\r\n    if (!values.title) errors.title = 'Title required'\r\n    if (!values.body) errors.body = 'Body required'\r\n    return errors;\r\n}\r\n\r\nexport class ArticleForm extends Component {\r\n\r\n    static propTypes = {\r\n        type: PropTypes.oneOf(['edit', undefined, 'add']),\r\n        onFormSubmit: PropTypes.func.isRequired\r\n    }\r\n\r\n    renderHeading = () => {\r\n        return this.props.type === 'edit' ? <h3>Edit Article</h3> : <h3>Create ur new Article</h3>;\r\n    }\r\n\r\n    renderField = ({ input, label, type, meta: { touched, error }, rows }) => (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"titleInput\">{label}</label>\r\n            {type === \"text\" && <input className=\"form-control\" {...input} type={type} />}\r\n            {type === \"textarea\" && <textarea className=\"form-control\" {...input} rows={rows} />}\r\n            {touched && error && <h6 className=\"form-text text-danger\">{error}</h6>}\r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        const { handleSubmit, pristine, submitting, valid } = this.props;\r\n        return (\r\n            <FetchCategories>\r\n                <form className=\"col-lg-10 mx-auto\" onSubmit={handleSubmit(this.props.onFormSubmit)}>\r\n                    {this.renderHeading()}\r\n                    <Field name=\"title\" label=\"Title\" component={this.renderField} type=\"text\" className=\"form-control\" />\r\n                    <Field name=\"body\" label=\"Body\" component={this.renderField} type=\"textarea\" rows=\"5\" className=\"form-control\" />\r\n                    <div className=\"form-group\">\r\n                        <Field className=\"form-control\" name=\"category_id\" component=\"select\">\r\n                            {this.props.categories.map(({ name, id }) => (\r\n                                <option value={id} key={id}>{name}</option>\r\n                            ))}\r\n                        </Field>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <button type=\"submit\" disabled={!valid || pristine || submitting} className=\"btn btn-primary btn-block\">Submit</button>\r\n                    </div>\r\n                </form>\r\n            </FetchCategories>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ categories, articles }, props) => {\r\n    let initialValuesEdit = {};\r\n    if (props.type === 'edit') {\r\n        let article = articles[props.match.params.id]\r\n        if (article) {\r\n            article = _.pick(article, ['title', 'body', 'category']);\r\n            article['category_id'] = article.category.id;\r\n            initialValuesEdit = _.omit(article, 'category');\r\n        }\r\n    }\r\n    return {\r\n        categories, \r\n        initialValues: { \r\n            category_id: (categories[0] && categories[0].id) || 1,\r\n            ...initialValuesEdit\r\n        } \r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    reduxForm({ form: 'articleForm', enableReinitialize: true, validate })\r\n)(ArticleForm)","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {compose} from 'redux'\r\nimport {updateArticle} from '../actions/article'\r\nimport {addNotification} from '../actions/notification'\r\nimport ArticleForm from './ArticleForm'\r\n\r\nclass EditArticle extends Component {\r\n    handleLocalFormSubmit = (values) => {\r\n        values = { ...values, category_id: parseInt(values.category_id) }\r\n        this.props.updateArticle({\r\n            articleId: this.props.match.params.id,\r\n            updatedArticle: values, \r\n            afterSuccess: this.afterSuccess, \r\n            afterFailure: this.afterFailure \r\n        })\r\n    }\r\n\r\n    afterSuccess = () => {\r\n        this.props.history.push(`/article/${this.props.match.params.id}`)\r\n        this.props.addNotification({ message: 'Updated article successfully' });\r\n    }\r\n    \r\n    afterFailure = () => {\r\n        this.props.addNotification({ message: 'Failed to update the article', type: 'error' });        \r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <ArticleForm {...this.props} type=\"edit\" onFormSubmit={this.handleLocalFormSubmit}/>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(null, { updateArticle, addNotification })\r\n)(EditArticle)","import React, { Component } from 'react';\r\nimport * as authActions from '../actions/auth';\r\nimport * as notificationActions from '../actions/notification';\r\nimport {connect} from 'react-redux'\r\n\r\nclass Signup extends Component {\r\n    state = {\r\n        username: \"\",\r\n        password: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\"\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.registerUser({ ...this.state, afterSuccess: this.afterRegisterSuccess, afterFailure: this.afterRegisterFailure })\r\n    }\r\n\r\n    afterRegisterSuccess = () => {\r\n        this.props.history.push('/login');\r\n        this.props.addNotification({ message: 'Registered successfully. You can log in now!' })\r\n    }\r\n\r\n    afterRegisterFailure = (error) => {\r\n        debugger;\r\n        console.log('error: ', error);\r\n        this.props.addNotification({ type: 'error', message: 'User register failed' });\r\n    }\r\n\r\n    render() {\r\n        // TODO: reuse form sign up vs sign in vs article form\r\n        return (\r\n            <form className=\"col-lg-6 mx-auto\" onSubmit={this.handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor={'usernameInput'}>Username</label>\r\n                    <input name=\"username\" onChange={this.handleInputChange} type=\"text\" className=\"form-control\" id={'usernameInput'} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor={'usernameInput'}>Password</label>\r\n                    <input name=\"password\" onChange={this.handleInputChange} type=\"password\" className=\"form-control\" id={'passwordInput'} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor={'firstNameInput'}>First Name</label>\r\n                    <input name=\"firstName\" onChange={this.handleInputChange} type=\"text\" className=\"form-control\" id={'firstNameInput'} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor={'lastNameInput'}>Last Name</label>\r\n                    <input name=\"lastName\" onChange={this.handleInputChange} type=\"text\" className=\"form-control\" id={'lastNameInput'} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-success btn-block\">Sign Up</button>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, { ...authActions, ...notificationActions })(Signup);","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nclass UnAuthOnly extends Component {\r\n    \r\n    render() { \r\n        if (this.props.isAuth) return <Redirect to=\"/\"/>\r\n        return this.props.children;\r\n    }\r\n}\r\n \r\nconst mapStateToProps = ({ auth }) => ({ isAuth: !!auth.token })\r\n\r\nexport default connect(mapStateToProps)(UnAuthOnly);","import { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\n\r\nclass LoggedInRequired extends Component {\r\n    \r\n    componentDidMount() {\r\n        this.checkAuth();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.checkAuth();\r\n    }\r\n\r\n    checkAuth = () => {\r\n        if (!this.props.isAuth) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(({ auth }) => ({ isAuth: !!auth.token })),\r\n    withRouter\r\n)(LoggedInRequired)","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { compose } from 'redux';\r\nimport {fetchSingleArticle} from '../../actions/article'\r\n\r\nclass MustBeAuthor extends Component {\r\n    \r\n    render() { \r\n        return this.props.children;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {isAuth, match, fetchSingleArticle, article} = this.props;\r\n        if (!isAuth || !match.params) this.exit();\r\n        if (!article) {\r\n            fetchSingleArticle({\r\n                id: match.params.id,\r\n                followFailure: this.afterArticleFetchingFailure\r\n            })\r\n        } else {\r\n            this.checkAuthor();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.checkAuthor();\r\n    }\r\n\r\n    checkAuthor = () => {\r\n        const {article, currentUser} = this.props;\r\n        if (article.author.username !== currentUser) {\r\n            this.exit();\r\n        }\r\n    }\r\n\r\n    afterArticleFetchingFailure = () => {\r\n        this.exit();\r\n    }\r\n\r\n    exit = () => {\r\n        this.props.history.push('/');\r\n    }\r\n}\r\n \r\nexport default compose(\r\n    connect(({ auth, articles }, props) => ({ \r\n        isAuth: !!auth.token, \r\n        article: articles[props.match.params.id],\r\n        currentUser: auth.username\r\n    }), { fetchSingleArticle }),\r\n    withRouter\r\n)(MustBeAuthor);","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {compose} from 'redux'\r\nimport {createArticle} from '../actions/article'\r\nimport {addNotification} from '../actions/notification'\r\nimport ArticleForm from './ArticleForm'\r\n\r\nclass AddArticle extends Component {\r\n    handleLocalFormSubmit = (values) => {\r\n        values = { ...values, category_id: parseInt(values.category_id) }\r\n        this.props.createArticle({ \r\n            article: values, \r\n            afterSuccess: this.afterSuccess, \r\n            afterFailure: this.afterFailure \r\n        })\r\n    }\r\n\r\n    afterSuccess = (article) => {\r\n        this.props.history.push(`/article/${article.id}`)\r\n        this.props.addNotification({ message: 'Created article successfully' });\r\n    }\r\n    \r\n    afterFailure = () => {\r\n        this.props.addNotification({ message: 'Can not create article', type: 'error' });        \r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <ArticleForm type=\"add\" onFormSubmit={this.handleLocalFormSubmit}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ categories }) => ({ categories })\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, { createArticle, addNotification })\r\n)(AddArticle)","import { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {fetchSingleArticle} from '../../actions/article'\r\nimport {compose} from 'redux';\r\n\r\nclass FetchSingleArticle extends Component {\r\n\r\n    componentDidMount() {\r\n        if (!this.props.categories.length) {\r\n            this.props.fetchSingleArticle({ \r\n                id: this.props.match.params.id, \r\n                followSuccess: this.afterFetchingSuccess,\r\n                followFailure: this.afterFetchingFailure\r\n            })\r\n        }\r\n    }\r\n\r\n    afterFetchingFailure = () => {\r\n        this.props.history.push('/');\r\n    }\r\n    \r\n    render() {  \r\n        return this.props.children;\r\n    }\r\n}\r\n \r\n// export default connect(({ categories }, props) => ({ categories }), { fetchSingleArticle })(FetchSingleArticle);\r\n\r\nexport default compose(\r\n    connect(({ categories }, props) => ({ categories }), { fetchSingleArticle }),\r\n    withRouter\r\n)(FetchSingleArticle)","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\nimport Header from './Header';\r\nimport GeneralView from './GeneralView';\r\nimport WhitePage from './WhitePage';\r\nimport ArticleDetail from './ArticleDetail';\r\nimport DeleteConfirm from './DeleteConfirm';\r\nimport NotFound from './NotFound';\r\nimport Login from './Login';\r\nimport Notification from './Notification';\r\nimport RouteChangeListener from './behaviors/RouteChangeListener';\r\nimport EditForm from './EditForm';\r\nimport Signup from './Signup';\r\nimport UnAuthOnly from './behaviors/UnAuthOnly';\r\nimport LoggedInRequired from './behaviors/LoggedInRequired';\r\nimport MustBeAuthor from './behaviors/MustBeAuthor';\r\nimport AddArticle from './AddArticle';\r\nimport FetchSingleArticle from './behaviors/FetchSingleArticle';\r\n\r\nclass App extends Component {\r\n\r\n    render() {\r\n        return (<div>\r\n                <BrowserRouter>\r\n            <RouteChangeListener>\r\n                    <Header />\r\n                    <Notification />\r\n                    <div className=\"container my-4\">\r\n                        <WhitePage>\r\n                            <Switch>\r\n                                <Route path=\"/\" exact component={GeneralView} />\r\n                                <Route path=\"/login\" render={() => <UnAuthOnly><Login /></UnAuthOnly>} />\r\n                                <Route path=\"/register\" render={() => <UnAuthOnly><Signup /></UnAuthOnly>} />\r\n                                <Route path=\"/article/new\" render={() => <LoggedInRequired><AddArticle /></LoggedInRequired>} />\r\n                                <Route path=\"/article/:id/edit\" render={(props) => <MustBeAuthor {...props}><EditForm {...props}/></MustBeAuthor>} />\r\n                                <Route path=\"/article/:id/delete\" render={(props) => <MustBeAuthor {...props}><DeleteConfirm {...props}/></MustBeAuthor>} />\r\n                                <Route path=\"/article/:id\" render={(props) => <FetchSingleArticle {...props}><ArticleDetail {...props}/></FetchSingleArticle>} />\r\n                                <NotFound path=\"/notfound\"/>\r\n                            </Switch>\r\n                        </WhitePage>\r\n                    </div>\r\n            </RouteChangeListener>\r\n                </BrowserRouter>\r\n        </div>);\r\n    }\r\n}\r\n\r\nexport default App;","import { REMOVE_USER_INFO, SAVE_USER_INFO} from '../actions/types';\r\n\r\nexport function getUserInfoFromStorage() {\r\n    const token = localStorage.getItem('token') || null;\r\n    const username = localStorage.getItem('username') || null;\r\n    return { username, token }\r\n}\r\n\r\nexport function setUserInfoToStorage({ token, username }) {\r\n    localStorage.setItem('token', token)\r\n    localStorage.setItem('username', username)\r\n}\r\n\r\nexport function removeUserInfoFromStorage() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('username');\r\n}\r\n\r\nconst defaultState = getUserInfoFromStorage()\r\n\r\nexport default (state = defaultState, action = {}) => {\r\n    switch (action.type) {\r\n        case SAVE_USER_INFO:\r\n            setUserInfoToStorage(action.payload);\r\n            return action.payload;\r\n        case REMOVE_USER_INFO:\r\n            removeUserInfoFromStorage();\r\n            return { token: null, username: null };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {ADD_NOTIFICATION, CLEAR_NOTIFICATION} from '../actions/types';\r\n\r\nconst defaultState = {\r\n    message: \"\",\r\n    type: \"\",\r\n}\r\n\r\nexport default (state = defaultState, action = {}) => {\r\n    switch (action.type) {\r\n        case ADD_NOTIFICATION:\r\n            return action.payload;\r\n        case CLEAR_NOTIFICATION:\r\n            return defaultState;\r\n        default:\r\n            return state;\r\n    }\r\n}","import {combineReducers} from 'redux';\r\nimport authReducer from './auth'\r\nimport articleReducer from './article'\r\nimport categoryReducer from './category'\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport selectedCategory from './selectedCategory';\r\nimport notificationReducer from './notification';\r\n\r\nexport default combineReducers({\r\n    notification: notificationReducer,\r\n    auth: authReducer,\r\n    articles: articleReducer,\r\n    categories: categoryReducer,\r\n    form: formReducer,\r\n    selectedCategory: selectedCategory,\r\n})","import {SAVE_ARTICLES, SAVE_SINGLE_ARTICLE, REMOVE_ARTICLE} from '../actions/types'\r\n\r\nexport default (state = {}, action = {}) => {\r\n    switch (action.type) {\r\n        case SAVE_ARTICLES:\r\n            const transformedArticles = action.payload.reduce((acc, article) => {\r\n                acc[article.id] = article;\r\n                return acc;\r\n            }, {})\r\n            return { ...state, ...transformedArticles }\r\n        case SAVE_SINGLE_ARTICLE:\r\n            const article = action.payload\r\n            return { ...state, [article.id]: article }\r\n        case REMOVE_ARTICLE:\r\n            const articlesObject = Object.keys(state)\r\n                .filter(articleId => articleId !== action.payload)\r\n                .reduce((acc, articleId) => {\r\n                    acc[articleId] = state[articleId];\r\n                    return acc;\r\n                }, {})\r\n            return articlesObject;\r\n        default:\r\n            return state;\r\n    }\r\n}","import {SAVE_CATEGORIES} from '../actions/types';\r\n\r\nexport default (state = [], action = {}) => {\r\n    switch (action.type) {\r\n        case SAVE_CATEGORIES:\r\n            return [...action.payload];\r\n        default:\r\n            return state;\r\n    }\r\n}","import {SELECT_CATEGORY} from '../actions/types'\r\n\r\nexport default (state = null, action = {}) => {\r\n    switch (action.type) {\r\n        case SELECT_CATEGORY:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport Root from './components/behaviors/Root'; \r\n\r\nReactDOM.render(\r\n    <Root>\r\n        <App />\r\n    </Root>,\r\ndocument.getElementById('root'));\r\n","import React from 'react';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware, compose} from 'redux';\r\nimport reducers from '../../reducers';\r\nimport thunk from 'redux-thunk';  \r\n\r\nexport default (props) => {\r\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n    const store = createStore(\r\n        reducers, \r\n        props.initialState, \r\n        composeEnhancers(\r\n            applyMiddleware(thunk)\r\n        )\r\n    );\r\n    return (\r\n        <Provider store={store}>\r\n            {props.children}\r\n        </Provider>\r\n    ) \r\n}"],"sourceRoot":""}